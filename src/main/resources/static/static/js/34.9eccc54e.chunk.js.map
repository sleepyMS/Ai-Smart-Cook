{"version":3,"file":"static/js/34.9eccc54e.chunk.js","mappings":"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","sources":["components/Recipewrite/Recipewrite.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport \"../../내가만든css/media.css\";\r\nimport \"../../내가만든css/style.css\";\r\n\r\nconst Recipewrite = () => {\r\n  const navigate = useNavigate();\r\n  const titleRef = useRef(null);\r\n  const postRef = useRef(null);\r\n  const indRef = useRef(null);\r\n  const tagRef = useRef(null); // useRef를 사용하여 선택된 태그 값을 저장\r\n  const [peopleName, setPeopleName] = useState(\"로그인\");\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      setPeopleName(user.name);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    if (!localStorage.getItem('user')) {\r\n      alert(\"로그인이 되어있지않습니다.\")\r\n      const confirmLogin = window.confirm(\"로그인 하시겠습니까?\");\r\n      if (confirmLogin) {\r\n        navigate('/loginpage')\r\n      }\r\n    } else {\r\n      const confirmLogout = window.confirm(\"로그아웃 하시겠습니까?\");\r\n      if (confirmLogout) {\r\n        setPeopleName(\"로그인\");\r\n        localStorage.removeItem('user');\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      const currentValue = postRef.current.value;\r\n      const lines = currentValue.split('\\n');\r\n      const lastLine = lines[lines.length - 1];\r\n      if (!lastLine) return; // 비어 있는 줄은 건너뜀\r\n      if (!lastLine.startsWith(lines.length + 1 + '. ')) {\r\n        postRef.current.value += `\\n${lines.length + 1}. `;\r\n      }\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const ID = JSON.parse(localStorage.getItem('user'));\r\n    if (!localStorage.getItem('user')) {\r\n      alert(\"로그인 후 이용해주세요.\");\r\n      return;\r\n    }\r\n    if (!titleRef.current.value || !postRef.current.value) {\r\n      alert(\"제목과 내용을 입력해주세요.\");\r\n      return;\r\n    }\r\n    try {\r\n      const currentTime = new Date(); // 현재 시간을 가져옴\r\n      const res = await fetch(`http://localhost:817/recipes/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          name: ID.name,\r\n          ingredient: indRef.current.value,\r\n          titleBoard: titleRef.current.value,\r\n          post: postRef.current.value,\r\n          tag: tagRef.current.value,\r\n          time: currentTime.toISOString() // 현재 시간을 ISO 형식으로 변환하여 저장\r\n        }),\r\n      });\r\n      if (res.ok) {\r\n        alert(\"생성이 완료되었습니다.\");\r\n        navigate('/recipeboard');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1 className='header_logo'>\r\n        <a href=\"/\">\r\n          <span>MOTIV</span>\r\n        </a>\r\n        <button onClick={handleLogout}>{peopleName}</button>\r\n      </h1>\r\n      <div>\r\n        <form onSubmit={onSubmit}>\r\n          <h3>레시피 글 등록</h3>\r\n          <div className='board_write'>\r\n            <div className='title'>\r\n              <label>제목</label>\r\n              <input type=\"text\" placeholder=\"제목\" ref ={titleRef}/>\r\n            </div>\r\n            <div className='title'>\r\n              <label>재료</label>\r\n              <input type=\"text\" placeholder=\"재료\" ref ={indRef}/>\r\n            </div>\r\n            <div>\r\n              <label>카테고리</label>\r\n              <select ref={tagRef}> {/* 선택된 값을 useRef를 통해 가져오도록 설정 */}\r\n                <option>한식</option>\r\n                <option>중식</option>\r\n                <option>일식</option>\r\n                <option>양식</option>\r\n              </select>\r\n            </div>\r\n            <div className='info'>\r\n              글쓴이\r\n            </div>\r\n            <div className='cont'>\r\n              <label>글 내용</label>\r\n              <textarea \r\n                placeholder=' 1.\r\n                            2.\r\n                            3.\r\n                            4.' \r\n                defaultValue='' \r\n                ref={postRef} \r\n                onKeyDown={handleKeyDown} \r\n              />\r\n            </div>\r\n            <button>등록하기</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Recipewrite;\r\n"],"names":["Recipewrite","navigate","useNavigate","titleRef","useRef","postRef","indRef","tagRef","peopleName","setPeopleName","useState","useEffect","user","JSON","parse","localStorage","getItem","name","_jsxs","_Fragment","children","className","_jsx","href","onClick","handleLogout","window","confirm","removeItem","alert","onSubmit","async","e","preventDefault","ID","current","value","currentTime","Date","fetch","method","headers","body","stringify","ingredient","titleBoard","post","tag","time","toISOString","ok","error","console","log","type","placeholder","ref","defaultValue","onKeyDown","key","lines","split","lastLine","length","startsWith","concat"],"sourceRoot":""}