{"version":3,"file":"static/js/994.a31a4960.chunk.js","mappings":"4LAQA,MAsGA,EAtGcA,KACZ,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,QAAO,MAClBC,GAAUD,EAAAA,EAAAA,QAAO,OAChBE,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,uBAG7CC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SACzCJ,GACFH,EAAcG,EAAKK,KACrB,GACC,IA2DH,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACCF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,cAAaD,SAAA,EACtBE,EAAAA,EAAAA,KAAA,KAAGC,KAAK,IAAGH,UACPE,EAAAA,EAAAA,KAAA,QAAAF,SAAM,aAEVE,EAAAA,EAAAA,KAAA,UAAQE,QA9DKC,KACnB,GAAIV,aAAaC,QAAQ,QAOpB,CACmBU,OAAOC,QAAQ,oEAEnClB,EAAc,sBACdM,aAAaa,WAAW,QAE5B,KAbiC,CAC/BC,MAAM,8EACeH,OAAOC,QAAQ,6DAElCxB,EAAS,aAEb,CAOA,EAgDoCiB,SAAEZ,QAEpCc,EAAAA,EAAAA,KAAA,OAAAF,UACIF,EAAAA,EAAAA,MAAA,QAAMY,SAhDGC,UACfC,EAAEC,iBACF,MAAMC,EAAKrB,KAAKC,MAAMC,aAAaC,QAAQ,SAE3C,GAAKD,aAAaC,QAAQ,QAK1B,GAAKX,EAAS8B,QAAQC,OAAU7B,EAAQ4B,QAAQC,MAKhD,WACoBC,MAAM,+BAAgC,CACtDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAM3B,KAAK4B,UAAU,CACnBxB,KAAMiB,EAAGjB,KACTyB,MAAOR,EAAGQ,MACVC,WAAYtC,EAAS8B,QAAQC,MAC7BQ,KAAMrC,EAAQ4B,QAAQC,MACtBS,KAAK,QAIDC,KACNjB,MAAM,kEAEN1B,EAAS,kBAEb,CAAE,MAAO4C,GACPC,QAAQC,IAAIF,EACd,MA1BElB,MAAM,oFALNA,MAAM,kEA+BR,EAY+BT,SAAA,EACrBE,EAAAA,EAAAA,KAAA,MAAAF,SAAI,4CACFF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,cAAaD,SAAA,EAC1BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,QAAOD,SAAA,EACpBE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,kBACPE,EAAAA,EAAAA,KAAA,SAAO4B,KAAK,OAAOC,YAAY,eAAKC,IAAM/C,QAE5CiB,EAAAA,EAAAA,KAAA,OAAKD,UAAU,OAAMD,SAAC,wBAGtBF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,OAAMD,SAAA,EACnBE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,yBACPE,EAAAA,EAAAA,KAAA,YAAU6B,YAAY,2BAAOC,IAAM7C,QAErCe,EAAAA,EAAAA,KAAA,UAAAF,SAAQ,uCAInB,C","sources":["components/Write/Write.jsx"],"sourcesContent":["import React from 'react';\r\nimport \"../../내가만든css/media.css\";\r\nimport \"../../내가만든css/style.css\";\r\nimport style from './loginpage.module.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useRef,useEffect,useState } from 'react';\r\n\r\n\r\nconst Write = () => {\r\n  const navigate = useNavigate();\r\n  const titleRef = useRef(null);\r\n  const postRef = useRef(null);\r\n  const [peopleName, setPeopleName] = useState(\"로그인\");\r\n\r\n  // 아이디 이름으로 바꾸기\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n      setPeopleName(user.name);\r\n    }\r\n  }, []);\r\n\r\n  //로그인/로그아웃 기능\r\n  const handleLogout = () => {\r\n    if(!localStorage.getItem('user')){\r\n      alert(\"로그인이 되어있지않습니다.\")\r\n      const confirmLogin = window.confirm(\"로그인 하시겠습니까?\");\r\n      if(confirmLogin){\r\n        navigate('/loginpage')\r\n      }\r\n    }\r\n    else {\r\n      const confirmLogout = window.confirm(\"로그아웃 하시겠습니까?\");\r\n      if(confirmLogout){\r\n        setPeopleName(\"로그인\"); // 이름 초기화\r\n        localStorage.removeItem('user'); // 로컬 스토리지에서 사용자 정보 삭제\r\n      }\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const ID = JSON.parse(localStorage.getItem('user'));\r\n\r\n    if (!localStorage.getItem('user')) {\r\n      alert(\"로그인 후 이용해주세요.\");\r\n      return;\r\n    }\r\n\r\n    if (!titleRef.current.value || !postRef.current.value) {\r\n      alert(\"제목과 내용을 입력해주세요.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:817/boards/`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          name: ID.name,\r\n          phone: ID.phone,\r\n          titleBoard: titleRef.current.value,\r\n          post: postRef.current.value,\r\n          like:[]\r\n        }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        alert(\"생성이 완료되었습니다.\");\r\n        // 게시물 데이터 설정\r\n        navigate('/questionboard');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n     <h1 className='header_logo'>\r\n          <a href=\"/\">\r\n              <span>MOTIV</span>\r\n          </a>\r\n          <button onClick={handleLogout}>{peopleName}</button>\r\n      </h1>\r\n      <div>\r\n          <form onSubmit={onSubmit}>\r\n              <h3>게시판 글 등록</h3>\r\n                <div className='board_write'>\r\n                  <div className='title'>\r\n                    <label>제목</label>\r\n                    <input type=\"text\" placeholder=\"제목\" ref ={titleRef}/>\r\n                  </div>\r\n                  <div className='info'>\r\n                    글쓴이\r\n                  </div>\r\n                  <div className='cont'>\r\n                    <label>글 내용</label>\r\n                    <textarea placeholder='내용입력' ref ={postRef}></textarea>\r\n                  </div>\r\n                  <button>등록하기</button>\r\n                </div>\r\n          </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Write;"],"names":["Write","navigate","useNavigate","titleRef","useRef","postRef","peopleName","setPeopleName","useState","useEffect","user","JSON","parse","localStorage","getItem","name","_jsxs","_Fragment","children","className","_jsx","href","onClick","handleLogout","window","confirm","removeItem","alert","onSubmit","async","e","preventDefault","ID","current","value","fetch","method","headers","body","stringify","phone","titleBoard","post","like","ok","error","console","log","type","placeholder","ref"],"sourceRoot":""}