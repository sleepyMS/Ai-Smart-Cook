{"version":3,"file":"static/js/994.a31a4960.chunk.js","mappings":"4LAQA,MAsGA,EAtGcA,KACZ,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,QAAO,MAClBC,GAAUD,EAAAA,EAAAA,QAAO,OAChBE,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,uBAG7CC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SACzCJ,GACFH,EAAcG,EAAKK,KACrB,GACC,IA2DH,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACCF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,cAAaD,SAAA,EACtBE,EAAAA,EAAAA,KAAA,KAAGC,KAAK,IAAGH,UACPE,EAAAA,EAAAA,KAAA,QAAAF,SAAM,aAEVE,EAAAA,EAAAA,KAAA,UAAQE,QA9DKC,KACnB,GAAIV,aAAaC,QAAQ,QAOpB,CACmBU,OAAOC,QAAQ,oEAEnClB,EAAc,sBACdM,aAAaa,WAAW,QAE5B,KAbiC,CAC/BC,MAAM,8EACeH,OAAOC,QAAQ,6DAElCxB,EAAS,aAEb,CAOA,EAgDoCiB,SAAEZ,QAEpCc,EAAAA,EAAAA,KAAA,OAAAF,UACIF,EAAAA,EAAAA,MAAA,QAAMY,SAhDGC,UACfC,EAAEC,iBACF,MAAMC,EAAKrB,KAAKC,MAAMC,aAAaC,QAAQ,SAE3C,GAAKD,aAAaC,QAAQ,QAK1B,GAAKX,EAAS8B,QAAQC,OAAU7B,EAAQ4B,QAAQC,MAKhD,WACoBC,MAAM,+BAAgC,CACtDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAM3B,KAAK4B,UAAU,CACnBxB,KAAMiB,EAAGjB,KACTyB,MAAOR,EAAGQ,MACVC,WAAYtC,EAAS8B,QAAQC,MAC7BQ,KAAMrC,EAAQ4B,QAAQC,MACtBS,KAAK,QAIDC,KACNjB,MAAM,kEAEN1B,EAAS,kBAEb,CAAE,MAAO4C,GACPC,QAAQC,IAAIF,EACd,MA1BElB,MAAM,oFALNA,MAAM,kEA+BR,EAY+BT,SAAA,EACrBE,EAAAA,EAAAA,KAAA,MAAAF,SAAI,4CACFF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,cAAaD,SAAA,EAC1BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,QAAOD,SAAA,EACpBE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,kBACPE,EAAAA,EAAAA,KAAA,SAAO4B,KAAK,OAAOC,YAAY,eAAKC,IAAM/C,QAE5CiB,EAAAA,EAAAA,KAAA,OAAKD,UAAU,OAAMD,SAAC,wBAGtBF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,OAAMD,SAAA,EACnBE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,yBACPE,EAAAA,EAAAA,KAAA,YAAU6B,YAAY,2BAAOC,IAAM7C,QAErCe,EAAAA,EAAAA,KAAA,UAAAF,SAAQ,uCAInB,C","sources":["components/Write/Write.jsx"],"sourcesContent":["import React from 'react';\nimport \"../../내가만든css/media.css\";\nimport \"../../내가만든css/style.css\";\nimport style from './loginpage.module.css';\nimport { useNavigate } from 'react-router-dom';\nimport { useRef,useEffect,useState } from 'react';\n\n\nconst Write = () => {\n  const navigate = useNavigate();\n  const titleRef = useRef(null);\n  const postRef = useRef(null);\n  const [peopleName, setPeopleName] = useState(\"로그인\");\n\n  // 아이디 이름으로 바꾸기\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user) {\n      setPeopleName(user.name);\n    }\n  }, []);\n\n  //로그인/로그아웃 기능\n  const handleLogout = () => {\n    if(!localStorage.getItem('user')){\n      alert(\"로그인이 되어있지않습니다.\")\n      const confirmLogin = window.confirm(\"로그인 하시겠습니까?\");\n      if(confirmLogin){\n        navigate('/loginpage')\n      }\n    }\n    else {\n      const confirmLogout = window.confirm(\"로그아웃 하시겠습니까?\");\n      if(confirmLogout){\n        setPeopleName(\"로그인\"); // 이름 초기화\n        localStorage.removeItem('user'); // 로컬 스토리지에서 사용자 정보 삭제\n      }\n    }\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const ID = JSON.parse(localStorage.getItem('user'));\n\n    if (!localStorage.getItem('user')) {\n      alert(\"로그인 후 이용해주세요.\");\n      return;\n    }\n\n    if (!titleRef.current.value || !postRef.current.value) {\n      alert(\"제목과 내용을 입력해주세요.\");\n      return;\n    }\n\n    try {\n      const res = await fetch(`http://localhost:817/boards/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name: ID.name,\n          phone: ID.phone,\n          titleBoard: titleRef.current.value,\n          post: postRef.current.value,\n          like:[]\n        }),\n      });\n\n      if (res.ok) {\n        alert(\"생성이 완료되었습니다.\");\n        // 게시물 데이터 설정\n        navigate('/questionboard');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n     <h1 className='header_logo'>\n          <a href=\"/\">\n              <span>MOTIV</span>\n          </a>\n          <button onClick={handleLogout}>{peopleName}</button>\n      </h1>\n      <div>\n          <form onSubmit={onSubmit}>\n              <h3>게시판 글 등록</h3>\n                <div className='board_write'>\n                  <div className='title'>\n                    <label>제목</label>\n                    <input type=\"text\" placeholder=\"제목\" ref ={titleRef}/>\n                  </div>\n                  <div className='info'>\n                    글쓴이\n                  </div>\n                  <div className='cont'>\n                    <label>글 내용</label>\n                    <textarea placeholder='내용입력' ref ={postRef}></textarea>\n                  </div>\n                  <button>등록하기</button>\n                </div>\n          </form>\n      </div>\n    </>\n  );\n}\n\nexport default Write;"],"names":["Write","navigate","useNavigate","titleRef","useRef","postRef","peopleName","setPeopleName","useState","useEffect","user","JSON","parse","localStorage","getItem","name","_jsxs","_Fragment","children","className","_jsx","href","onClick","handleLogout","window","confirm","removeItem","alert","onSubmit","async","e","preventDefault","ID","current","value","fetch","method","headers","body","stringify","phone","titleBoard","post","like","ok","error","console","log","type","placeholder","ref"],"sourceRoot":""}